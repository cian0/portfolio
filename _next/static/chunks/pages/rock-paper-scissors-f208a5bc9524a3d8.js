(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7],{3255:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rock-paper-scissors",function(){return a(5341)}])},5341:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var r=a(5893),s=a(7294),n=a(8426),o=a(5139),i=a(512),l=a(8388);function d(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,i.W)(t))}let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:i=!1,...l}=e,m=i?n.g7:"button";return(0,r.jsx)(m,{className:d(c({variant:s,size:o,className:a})),ref:t,...l})}).displayName="Button",a(1664);let m=(0,o.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});s.forwardRef((e,t)=>{let{className:a,variant:s,...n}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:d(m({variant:s}),a),...n})}).displayName="Alert",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h5",{ref:t,className:d("mb-1 font-medium leading-none tracking-tight",a),...s})}).displayName="AlertTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("text-sm [&_p]:leading-relaxed",a),...s})}).displayName="AlertDescription";var f=a(7483);s.forwardRef((e,t)=>{let{className:a,value:s,...n}=e;return(0,r.jsx)(f.fC,{ref:t,className:d("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...n,children:(0,r.jsx)(f.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}).displayName=f.fC.displayName;var u=a(7346),h=a(3767);u.fC,u.xz;let g=u.h_;u.x8;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(u.aV,{ref:t,className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});p.displayName=u.aV.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(g,{children:[(0,r.jsx)(p,{}),(0,r.jsxs)(u.VY,{ref:t,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...n,children:[s,(0,r.jsxs)(u.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}).displayName=u.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(u.Dx,{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",a),...s})}).displayName=u.Dx.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(u.dk,{ref:t,className:d("text-sm text-muted-foreground",a),...s})}).displayName=u.dk.displayName;var x=a(7407),v=a(5895);x.fC,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(x.ck,{ref:t,className:d("border-b",a),...s})}).displayName="AccordionItem",s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsx)(x.h4,{className:"flex",children:(0,r.jsxs)(x.xz,{ref:t,className:d("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...n,children:[s,(0,r.jsx)(v.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})}).displayName=x.xz.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsx)(x.VY,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:(0,r.jsx)("div",{className:d("pb-4 pt-0",a),children:s})})}).displayName=x.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})}).displayName="Card",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",a),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",a),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:d("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("p-6 pt-0",a),...s})}).displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";let j={fire:{emoji:"\uD83D\uDD25",strongAgainst:["earth","ice","plant"],weakAgainst:["water","air"],statusEffect:"burn",removeEffect:"freeze"},water:{emoji:"\uD83D\uDCA7",strongAgainst:["fire","earth"],weakAgainst:["ice","plant"],statusEffect:"flood",removeEffect:"burn"},earth:{emoji:"\uD83E\uDEA8",strongAgainst:["air","ice","fire"],weakAgainst:["water","plant"],statusEffect:"quake",removeEffect:"shock"},air:{emoji:"\uD83D\uDCA8",strongAgainst:["fire","plant","water"],weakAgainst:["earth","ice"],statusEffect:"shock",removeEffect:"flood"},ice:{emoji:"❄️",strongAgainst:["water","plant","air"],weakAgainst:["fire","earth"],statusEffect:"freeze",removeEffect:"burn"},plant:{emoji:"\uD83C\uDF3F",strongAgainst:["water","earth","air"],weakAgainst:["fire","ice"],statusEffect:"root",removeEffect:"quake"}},b={burn:{name:"Burn",emoji:"\uD83D\uDD25",effect:"Deals 5 damage per turn"},freeze:{name:"Freeze",emoji:"\uD83E\uDDCA",effect:"Skip next turn"},shock:{name:"Shock",emoji:"⚡",effect:"Reduce damage by 50%"},root:{name:"Root",emoji:"\uD83C\uDF31",effect:"Limit to 3 random elements"},flood:{name:"Flood",emoji:"\uD83C\uDF0A",effect:"Water damage +50%"},quake:{name:"Quake",emoji:"\uD83C\uDF0B",effect:"30% chance of 10 extra damage"}},N={"fire,fire,fire":{name:"Inferno",damage:40,effect:"burn"},"water,water,water":{name:"Tsunami",damage:40,effect:"flood"},"earth,earth,earth":{name:"Mountain",damage:40,effect:"quake"},"air,air,air":{name:"Tornado",damage:40,effect:"shock"},"ice,ice,ice":{name:"Blizzard",damage:40,effect:"freeze"},"plant,plant,plant":{name:"Forest",damage:40,effect:"root"},"fire,air,earth":{name:"Volcanic Eruption",damage:50,effect:"burn"},"water,ice,air":{name:"Arctic Storm",damage:50,effect:"freeze"},"earth,plant,water":{name:"Gaia's Blessing",damage:50,effect:"root"}};class y{decide(e){let{playerHealth:t,aiHealth:a,playerStatus:r,aiStatus:s,turn:n}=e;if(this.combo.length>0&&this.combo.length<3)return this.continueCombo();let o=this.analyzePattern(this.memory.slice(-5));return a<30||this.hasNegativeStatus(s)?this.defensiveStrategy(o,s):t<30||this.hasNegativeStatus(r)?this.aggressiveStrategy(r):(n%5==0&&(this.elementalPreference=this.randomElement()),.7>Math.random()?this.startCombo():this.counterStrategy(o))}analyzePattern(e){if(e.length>=3){let t=e.slice(-3);if(1===new Set(t).size)return t[0]}return null}hasNegativeStatus(e){return e&&["burn","freeze","shock","root"].includes(e)}defensiveStrategy(e,t){return t&&j[this.randomElement()].removeEffect===t?this.randomElement():e?j[e].weakAgainst[0]:this.randomElement()}aggressiveStrategy(e){return e?Object.keys(j).find(t=>j[t].statusEffect===e):this.startCombo()}counterStrategy(e){return e?j[e].weakAgainst[Math.floor(Math.random()*j[e].weakAgainst.length)]:this.randomElement()}startCombo(){return this.combo=[this.elementalPreference],this.elementalPreference}continueCombo(){let e=this.combo[this.combo.length-1],t=j[e].strongAgainst[Math.floor(Math.random()*j[e].strongAgainst.length)];return this.combo.push(t),t}randomElement(){return Object.keys(j)[Math.floor(Math.random()*Object.keys(j).length)]}recordMove(e){this.memory.push(e),this.memory.length>10&&this.memory.shift(),(3===this.combo.length||e!==this.combo[this.combo.length-1])&&(this.combo=[])}constructor(){this.memory=[],this.combo=[],this.elementalPreference=this.randomElement()}}var w=()=>{var e,t;let[a,n]=(0,s.useState)(100),[o,i]=(0,s.useState)(100),[l,d]=(0,s.useState)(null),[c,m]=(0,s.useState)(null),[f,u]=(0,s.useState)(""),[h,g]=(0,s.useState)(0),[p,x]=(0,s.useState)(!1),[v,w]=(0,s.useState)([]),[k,D]=(0,s.useState)(null),[E,C]=(0,s.useState)(null),[A,S]=(0,s.useState)(!0),R=s.useRef(new y),z=e=>{if(p)return;let t=[...v,e];w(t.length<=3?t:[e]),d(e);let r=R.current.decide({playerHealth:a,aiHealth:o,playerStatus:k,aiStatus:E,turn:h});m(r),R.current.recordMove(e),_(M(e,r,t,R.current.combo)),g(h+1)},M=(e,t,a,r)=>{let s=10,n=10,o=null,i=null,l=a.join(","),d=r.join(",");return N[l]&&(s=N[l].damage,o=N[l].effect),N[d]&&(n=N[d].damage,i=N[d].effect),j[e].strongAgainst.includes(t)&&(s*=1.5),j[t].strongAgainst.includes(e)&&(n*=1.5),"shock"===k&&(s*=.5),"shock"===E&&(n*=.5),"flood"===k&&"water"===t&&(n*=1.5),"flood"===E&&"water"===e&&(s*=1.5),{playerDamage:s,aiDamage:n,playerEffect:o,aiEffect:i}},_=e=>{i(t=>Math.max(0,t-e.playerDamage)),n(t=>Math.max(0,t-e.aiDamage)),e.playerEffect&&C(e.playerEffect),e.aiEffect&&D(e.aiEffect),l&&j[l].removeEffect===E&&C(null),c&&j[c].removeEffect===k&&D(null),u(e.playerDamage>e.aiDamage?"You win this round! Dealt ".concat(e.playerDamage," damage."):e.playerDamage<e.aiDamage?"AI wins this round! Dealt ".concat(e.aiDamage," damage."):"It's a draw!"),(a<=0||o<=0)&&(x(!0),u(a>o?"You won the game!":"AI won the game!")),"burn"===k&&n(e=>Math.max(0,e-5)),"burn"===E&&i(e=>Math.max(0,e-5)),"quake"===k&&.3>Math.random()&&n(e=>Math.max(0,e-10)),"quake"===E&&.3>Math.random()&&i(e=>Math.max(0,e-10))};return(0,r.jsxs)("div",{className:"retro-container",children:[(0,r.jsxs)("div",{className:"retro-post",children:[(0,r.jsx)("div",{className:"retro-header",children:"\uD83C\uDF1F Elemental Mastery \uD83C\uDF1F"}),(0,r.jsx)("div",{className:"retro-section",children:(0,r.jsx)("p",{children:"Master the elements and defeat your AI opponent!"})}),(0,r.jsxs)("div",{className:"retro-section",children:[(0,r.jsxs)("div",{className:"nes-container with-title",children:[(0,r.jsx)("p",{className:"title",children:"Player"}),(0,r.jsx)("progress",{className:"nes-progress is-success",value:a,max:"100"}),(0,r.jsxs)("p",{children:["Health: ",a,"/100"]}),(0,r.jsxs)("p",{children:["Status: ",k?"".concat(b[k].emoji," ").concat(b[k].name):"None"]}),(0,r.jsxs)("p",{children:["Combo: ",v.length>0?v.map(e=>j[e].emoji).join(" "):"None"]})]}),(0,r.jsxs)("div",{className:"nes-container with-title",children:[(0,r.jsx)("p",{className:"title",children:"AI"}),(0,r.jsx)("progress",{className:"nes-progress is-error",value:o,max:"100"}),(0,r.jsxs)("p",{children:["Health: ",o,"/100"]}),(0,r.jsxs)("p",{children:["Status: ",E?"".concat(b[E].emoji," ").concat(b[E].name):"None"]})]})]}),(0,r.jsx)("div",{className:"retro-section",children:(0,r.jsxs)("div",{className:"nes-container",children:[(0,r.jsx)("p",{children:"Choose your element:"}),(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"10px"},children:["fire","water","earth","air","ice","plant"].map(e=>(0,r.jsx)("button",{className:"nes-btn",onClick:()=>z(e),disabled:p||"freeze"===k&&h%2==1||"root"===k&&!["fire","water","earth"].includes(e),children:j[e].emoji},e))})]})}),f&&(0,r.jsxs)("div",{className:"nes-container is-dark with-title",children:[(0,r.jsxs)("p",{className:"title",children:["Round ",h," Result"]}),(0,r.jsxs)("p",{children:[null===(e=j[l])||void 0===e?void 0:e.emoji," vs ",null===(t=j[c])||void 0===t?void 0:t.emoji]}),(0,r.jsx)("p",{children:f})]}),(0,r.jsxs)("div",{className:"retro-section",children:[(0,r.jsx)("button",{className:"nes-btn is-primary",onClick:()=>{n(100),i(100),d(null),m(null),u(""),g(0),x(!1),w([]),D(null),C(null),R.current=new y},children:"Reset Game"}),(0,r.jsx)("button",{className:"nes-btn is-info",onClick:()=>S(!0),children:"Game Info"})]})]}),A&&(0,r.jsx)("div",{className:"nes-dialog is-rounded",id:"tutorial-dialog",children:(0,r.jsxs)("form",{method:"dialog",children:[(0,r.jsx)("p",{className:"title",children:"Welcome to Elemental Mastery!"}),(0,r.jsx)("p",{children:"Learn about the game mechanics and start your journey to become an Elemental Master."}),(0,r.jsx)("menu",{className:"dialog-menu",children:(0,r.jsx)("button",{className:"nes-btn",onClick:()=>S(!1),children:"Close"})})]})})]})}}},function(e){e.O(0,[325,888,774,179],function(){return e(e.s=3255)}),_N_E=e.O()}]);