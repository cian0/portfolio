(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51],{5074:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/token-converter",function(){return t(182)}])},182:function(e,s,t){"use strict";t.r(s);var n=t(5893),r=t(7294),a=t(1664),o=t.n(a),l=t(4755),c=t.n(l);s.default=()=>{let[e,s]=(0,r.useState)({}),[t,a]=(0,r.useState)(null),[l,i]=(0,r.useState)({message:"",type:""}),[d,u]=(0,r.useState)("crypto"),[h,p]=(0,r.useState)(""),[m,v]=(0,r.useState)([]),[x,j]=(0,r.useState)([{amount1:1,token1:"",amount2:"",token2:""}]),[y,k]=(0,r.useState)(new Set),[g,f]=(0,r.useState)([]),[C,_]=(0,r.useState)(""),[N,S]=(0,r.useState)("default"),[b,P]=(0,r.useState)({bitcoin:"BTC",ethereum:"ETH",ripple:"XRP",cardano:"ADA",solana:"SOL",dogecoin:"DOGE"}),[T,E]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{E(!0);let e=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=50&sparkline=false"),s=await e.json(),t={};s.forEach(e=>{t[e.id]=e.symbol.toUpperCase()}),P(t)}catch(e){console.error("Error fetching top tokens:",e),i({message:"Error loading tokens. Using default list.",type:"error"}),P({bitcoin:"BTC",ethereum:"ETH",ripple:"XRP",cardano:"ADA",solana:"SOL",dogecoin:"DOGE"})}finally{E(!1)}})()},[]);let U=function(s,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(e[s]&&e[s][t])return e[s][t];if(n.has(s))return null;if(n.add(s),e[s])for(let r in e[s]){let a=e[s][r],o=U(r,t,new Set(n));if(null!==o)return a*o}return null},w=()=>{let e=new Set,t={};x.forEach(s=>{let{amount1:n,token1:r,amount2:a,token2:o}=s;r&&o&&!isNaN(n)&&!isNaN(a)&&n>0&&a>0&&(e.add(r.toUpperCase()),e.add(o.toUpperCase()),t[r]||(t[r]={}),t[o]||(t[o]={}),t[r][o]=a/n,t[o][r]=n/a)}),s(t),k(e)},D=e=>{j(x.filter((s,t)=>t!==e))},A=(e,s,t)=>{let n=[...x];n[e]={...n[e],[s]:t},j(n)};(0,r.useEffect)(()=>{w()},[x]);let R=e=>{console.log("handleTokenSelect called with value:",e),S(e),"other"===e&&(console.log("Other selected, resetting states"),a(null),_(""),f([]))},B=async e=>{if(console.log("searchToken called with query:",e),_(e),!e||e.length<2){console.log("Query too short, clearing results"),f([]);return}try{i({message:"Searching for token...",type:"loading"});let s=await fetch("https://api.coingecko.com/api/v3/search?query=".concat(e)),t=await s.json();t.coins&&t.coins.length>0?(f(t.coins.slice(0,5)),i({message:"",type:""})):(f([]),i({message:"No matching tokens found",type:"error"}))}catch(e){console.error("Error searching tokens:",e),i({message:"Error searching for tokens. Please try again.",type:"error"}),f([])}},F=e=>{a(e),_("".concat(e.name," (").concat(e.symbol.toUpperCase(),")")),f([]),i({message:"Selected: ".concat(e.name),type:"success"})},[G,L]=(0,r.useState)(""),[I,J]=(0,r.useState)(""),[O,q]=(0,r.useState)(""),[Y,X]=(0,r.useState)(!1),H=async()=>{let e,s;let n=document.getElementById("quick-add-token"),r=document.getElementById("quick-add-currency").value.toLowerCase();if("other"===n.value){if(!t){i({message:"Please select a token from the search results",type:"error"});return}e=t.id,s=t.symbol.toUpperCase()}else{if(!n.value||!r){i({message:"Please select both token and currency",type:"error"});return}s=b[e=n.value]}X(!0),i({message:"Fetching current market rate...",type:"loading"});try{let t=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=".concat(e,"&vs_currencies=").concat(r)),o=await t.json();if(o[e]&&o[e][r]){let t=o[e][r],l=r.toUpperCase();Q(1,s,t,l),i({message:"Successfully added market rate: 1 ".concat(s," = ").concat(t," ").concat(l),type:"success"}),"other"===n.value&&a(null)}else throw Error("Invalid response from API")}catch(e){console.error("Error:",e),i({message:"Error fetching market rate. Please try again later.",type:"error"})}finally{X(!1)}},Q=(e,s,t,n)=>{j(r=>[...r,{amount1:e,token1:s,amount2:t,token2:n}])},Z=async()=>{let e=document.getElementById("forex-from").value,s=document.getElementById("forex-to").value;if(!e||!s){i({message:"Please select both currencies",type:"error"});return}if(e===s){i({message:"Please select different currencies",type:"error"});return}X(!0),i({message:"Fetching current forex rate...",type:"loading"});try{let t=await fetch("https://api.exchangerate.host/convert?from=".concat(e,"&to=").concat(s)),n=await t.json();if(n.success&&n.result){let t=n.result;Q(1,e,t,s),i({message:"Successfully added forex rate: 1 ".concat(e," = ").concat(t.toFixed(6)," ").concat(s),type:"success"})}else throw Error("Invalid response from API")}catch(e){console.error("Error:",e),i({message:"Error fetching forex rate. Please try again later.",type:"error"})}finally{X(!1)}};return(0,n.jsx)("div",{className:"retro-container",children:(0,n.jsxs)("div",{className:"retro-post",children:[(0,n.jsx)("div",{className:"retro-header",children:"\uD83D\uDCB1 Token Conversion Calculator \uD83D\uDCB9"}),(0,n.jsxs)("div",{className:c().tokenPairsSection,children:[(0,n.jsx)("h3",{className:"nes-text",children:"Custom Token Pairs"}),x.map((e,s)=>(0,n.jsxs)("div",{className:c().tokenPair,children:[(0,n.jsx)("input",{type:"number",className:"nes-input",value:e.amount1,onChange:e=>A(s,"amount1",parseFloat(e.target.value)),placeholder:"Amount",step:"any"}),(0,n.jsx)("input",{type:"text",className:"nes-input",value:e.token1,onChange:e=>A(s,"token1",e.target.value.toUpperCase()),placeholder:"From Token"}),(0,n.jsx)("span",{children:"equals"}),(0,n.jsx)("input",{type:"number",className:"nes-input",value:e.amount2,onChange:e=>A(s,"amount2",parseFloat(e.target.value)),placeholder:"Amount",step:"any"}),(0,n.jsx)("input",{type:"text",className:"nes-input",value:e.token2,onChange:e=>A(s,"token2",e.target.value.toUpperCase()),placeholder:"To Token"}),(0,n.jsx)("button",{className:"nes-btn is-error",onClick:()=>D(s),children:"Remove"})]},s)),(0,n.jsx)("button",{className:"nes-btn is-primary",onClick:()=>{j([...x,{amount1:1,token1:"",amount2:"",token2:""}])},children:"Add Token Pair"})]}),(0,n.jsxs)("div",{className:c().allConversions,children:[(0,n.jsx)("h3",{className:"nes-text",children:"All Available Conversions (Base 1)"}),(0,n.jsx)("div",{className:c().conversionGrid,children:Array.from(y).sort().map(e=>Array.from(y).sort().map(s=>{if(e!==s){let t=U(e,s);if(null!==t)return(0,n.jsxs)("div",{className:c().conversionRow,children:["1 ",e," = ",t.toFixed(8)," ",s]},"".concat(e,"-").concat(s))}return null}))})]}),(0,n.jsxs)("div",{className:"quick-add retro-section",children:[(0,n.jsxs)("div",{className:"tab-buttons",children:[(0,n.jsx)("button",{onClick:()=>u("crypto"),className:"nes-btn ".concat("crypto"===d?"is-primary":""),children:"Crypto"}),(0,n.jsx)("button",{onClick:()=>u("forex"),className:"nes-btn ".concat("forex"===d?"is-primary":""),children:"Forex"})]}),(0,n.jsxs)("div",{className:"nes-container with-title is-dark",children:[(0,n.jsx)("p",{className:"title",children:"Quick Add Rates"}),"crypto"===d&&(0,n.jsxs)("div",{className:"crypto-rate-section",children:[(0,n.jsx)("h4",{children:"Add Cryptocurrency Rate"}),(0,n.jsxs)("div",{className:c().tokenPair,children:[(0,n.jsxs)("select",{id:"quick-add-token",className:"nes-select",onChange:e=>{S(e.target.value),R(e.target.value)},children:[(0,n.jsx)("option",{value:"",children:"Select Token"}),Object.entries(b).map(e=>{let[s,t]=e;return(0,n.jsxs)("option",{value:s,children:[t," - ",s]},s)}),(0,n.jsx)("option",{value:"other",children:"Other (Search)"})]}),(0,n.jsxs)("select",{id:"quick-add-currency",className:"nes-select",children:[(0,n.jsx)("option",{value:"usd",children:"USD"}),(0,n.jsx)("option",{value:"eur",children:"EUR"}),(0,n.jsx)("option",{value:"gbp",children:"GBP"}),(0,n.jsx)("option",{value:"jpy",children:"JPY"}),(0,n.jsx)("option",{value:"php",children:"PHP"})]}),(0,n.jsx)("button",{className:"nes-btn is-primary",onClick:H,disabled:Y,children:Y?"Loading...":"Add Market Rate"})]}),(0,n.jsxs)("div",{style:{color:"yellow",fontSize:"12px"},children:["Current tokenSelect value: ",N]}),"other"===N&&(0,n.jsxs)("div",{className:c().customTokenInput,children:[(0,n.jsxs)("div",{className:"nes-field",children:[(0,n.jsx)("label",{htmlFor:"tokenSearch",children:"Search for token:"}),(0,n.jsx)("input",{id:"tokenSearch",type:"text",className:"nes-input is-dark",value:C,placeholder:"Search token (e.g., POL, KAS)",onChange:e=>B(e.target.value)})]}),g.length>0&&(0,n.jsx)("div",{className:c().tokenSearchResults,children:g.map(e=>(0,n.jsxs)("div",{className:c().tokenSearchResult,onClick:()=>F(e),children:[e.name," (",e.symbol.toUpperCase(),")",(0,n.jsxs)("small",{children:["ID: ",e.id]})]},e.id))})]})]}),"forex"===d&&(0,n.jsxs)("div",{className:"forex-rate-section",children:[(0,n.jsx)("h4",{children:"Add Forex Rate"}),(0,n.jsxs)("div",{className:c().tokenPair,children:[(0,n.jsxs)("select",{id:"forex-from",className:"nes-select",value:I,onChange:e=>J(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"Select Currency"}),(0,n.jsx)("option",{value:"USD",children:"US Dollar (USD)"}),(0,n.jsx)("option",{value:"EUR",children:"Euro (EUR)"}),(0,n.jsx)("option",{value:"GBP",children:"British Pound (GBP)"}),(0,n.jsx)("option",{value:"JPY",children:"Japanese Yen (JPY)"}),(0,n.jsx)("option",{value:"AUD",children:"Australian Dollar (AUD)"})]}),(0,n.jsx)("span",{children:"to"}),(0,n.jsxs)("select",{id:"forex-to",className:"nes-select",value:O,onChange:e=>q(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"Select Currency"}),(0,n.jsx)("option",{value:"USD",children:"US Dollar (USD)"}),(0,n.jsx)("option",{value:"EUR",children:"Euro (EUR)"}),(0,n.jsx)("option",{value:"GBP",children:"British Pound (GBP)"}),(0,n.jsx)("option",{value:"JPY",children:"Japanese Yen (JPY)"}),(0,n.jsx)("option",{value:"AUD",children:"Australian Dollar (AUD)"})]}),(0,n.jsx)("button",{className:"nes-btn is-primary",onClick:Z,disabled:Y,children:Y?"Loading...":"Add Forex Rate"})]})]}),l.message&&(0,n.jsx)("div",{className:"nes-container is-rounded ".concat("error"===l.type?"is-error":"success"===l.type?"is-success":"is-dark"),children:(0,n.jsx)("p",{children:l.message})})]}),(0,n.jsxs)("div",{className:"converter-form nes-container with-title",children:[(0,n.jsx)("p",{className:"title",children:"Convert"}),(0,n.jsxs)("div",{className:"nes-field",children:[(0,n.jsx)("label",{htmlFor:"amount",children:"Amount:"}),(0,n.jsx)("input",{type:"number",id:"amount",className:"nes-input",value:G,onChange:e=>L(e.target.value),placeholder:"Enter amount"})]}),"crypto"===d?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"nes-field",children:[(0,n.jsx)("label",{htmlFor:"fromCrypto",className:c().cryptoLabel,children:"From Cryptocurrency:"}),(0,n.jsxs)("select",{id:"fromCrypto",className:"nes-select ".concat(c().cryptoSelect),onChange:e=>J(e.target.value),value:I,children:[(0,n.jsx)("option",{value:"",children:"Select token"}),T?(0,n.jsx)("option",{value:"",disabled:!0,children:"Loading tokens..."}):Object.entries(b).map(e=>{let[s,t]=e;return(0,n.jsxs)("option",{value:s,children:[t," - ",s]},t)})]})]}),(0,n.jsxs)("div",{className:"nes-field",children:[(0,n.jsx)("label",{htmlFor:"toCrypto",className:c().cryptoLabel,children:"To Cryptocurrency:"}),(0,n.jsxs)("select",{id:"toCrypto",className:"nes-select ".concat(c().cryptoSelect),onChange:e=>q(e.target.value),value:O,children:[(0,n.jsx)("option",{value:"",children:"Select token"}),Object.entries(b).map(e=>{let[s,t]=e;return(0,n.jsxs)("option",{value:s,children:[t," - ",s]},t)})]})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"nes-field",children:[(0,n.jsx)("label",{children:"From Currency:"}),(0,n.jsxs)("select",{className:"nes-select",onChange:e=>J(e.target.value),value:I,children:[(0,n.jsx)("option",{value:"",children:"Select currency"}),(0,n.jsx)("option",{value:"USD",children:"USD"}),(0,n.jsx)("option",{value:"EUR",children:"EUR"}),(0,n.jsx)("option",{value:"GBP",children:"GBP"}),(0,n.jsx)("option",{value:"JPY",children:"JPY"}),(0,n.jsx)("option",{value:"AUD",children:"AUD"})]})]}),(0,n.jsxs)("div",{className:"nes-field",children:[(0,n.jsx)("label",{children:"To Currency:"}),(0,n.jsxs)("select",{className:"nes-select",onChange:e=>q(e.target.value),value:O,children:[(0,n.jsx)("option",{value:"",children:"Select currency"}),(0,n.jsx)("option",{value:"USD",children:"USD"}),(0,n.jsx)("option",{value:"EUR",children:"EUR"}),(0,n.jsx)("option",{value:"GBP",children:"GBP"}),(0,n.jsx)("option",{value:"JPY",children:"JPY"}),(0,n.jsx)("option",{value:"AUD",children:"AUD"})]})]})]}),(0,n.jsx)("button",{className:"nes-btn is-primary",onClick:()=>{"crypto"===d?H(I,O,G):Z(I,O,G)},disabled:Y,children:Y?"Converting...":"Convert"}),l.message&&(0,n.jsx)("div",{className:"nes-container is-rounded ".concat("error"===l.type?"is-error":"success"===l.type?"is-success":"is-dark"),children:(0,n.jsx)("p",{children:l.message})}),h&&(0,n.jsx)("div",{className:"nes-container is-rounded is-dark",children:(0,n.jsxs)("p",{children:["Result: ",h]})})]}),m.length>0&&(0,n.jsxs)("div",{className:"conversion-history nes-container with-title",children:[(0,n.jsx)("p",{className:"title",children:"Conversion History"}),(0,n.jsx)("div",{className:"history-list",children:m.map((e,s)=>(0,n.jsx)("div",{className:"nes-container is-rounded",children:(0,n.jsxs)("p",{children:[e.amount," ",e.from," = ",e.result," ",e.to,(0,n.jsx)("br",{}),(0,n.jsx)("small",{children:new Date(e.timestamp).toLocaleString()})]})},s))})]})]}),(0,n.jsx)("div",{className:"retro-section",children:(0,n.jsx)(o(),{href:"/",className:"nes-btn",children:"Back to Home"})})]})})}},4755:function(e){e.exports={"converter-form":"TokenConverter_converter-form__pWqYW",tokenPairsSection:"TokenConverter_tokenPairsSection__bbXJT",tokenPair:"TokenConverter_tokenPair__rh8er","nes-select":"TokenConverter_nes-select__XEju8",cryptoSelect:"TokenConverter_cryptoSelect__fmian","nes-field":"TokenConverter_nes-field__C7_GA","conversion-history":"TokenConverter_conversion-history__Q_ZSF",allConversions:"TokenConverter_allConversions__HIZnL",conversionGrid:"TokenConverter_conversionGrid__0bVNP",conversionRow:"TokenConverter_conversionRow__3Rq_r","history-list":"TokenConverter_history-list__qrNqN",customTokenInput:"TokenConverter_customTokenInput__N1JX3",show:"TokenConverter_show__fNsfu",tokenSearchResults:"TokenConverter_tokenSearchResults__rH15e",tokenSearchResult:"TokenConverter_tokenSearchResult__m_40w","tab-buttons":"TokenConverter_tab-buttons__eB3Xp",cryptoLabel:"TokenConverter_cryptoLabel__TyDTO","status-message":"TokenConverter_status-message__V7Evj","result-container":"TokenConverter_result-container__GZ0TL"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5074)}),_N_E=e.O()}]);