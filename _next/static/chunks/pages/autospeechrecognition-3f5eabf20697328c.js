(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{3300:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/autospeechrecognition",function(){return a(8458)}])},5562:function(e,r,a){"use strict";a.d(r,{E:function(){return l}});var t=a(5893),n=a(7294),s=a(7483),o=a(8871);let l=n.forwardRef((e,r)=>{let{className:a,value:n,...l}=e;return(0,t.jsx)(s.fC,{ref:r,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,t.jsx)(s.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});l.displayName=s.fC.displayName},8871:function(e,r,a){"use strict";a.d(r,{cn:function(){return s}});var t=a(512),n=a(8388);function s(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,n.m6)((0,t.W)(r))}},8458:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return o}});var t=a(5893),n=a(7294),s=a(5562);function o(){let[e,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),[u,i]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),[f,m]=(0,n.useState)(0),p=(0,n.useRef)(null),[x,v]=(0,n.useState)(null);(0,n.useEffect)(()=>{p.current||(console.log("Main: Creating new worker"),p.current=new Worker(a.tu(new URL(a.p+a.u(304),a.b)),{type:void 0}),p.current.onmessage=e=>{console.log("Main: Received message from worker",e.data),"ready"===e.data.status?(c(!0),i(!1)):"complete"===e.data.status?(r(e.data.output),i(!1)):"error"===e.data.status?(l(e.data.error),i(!1)):"progress"===e.data.status&&m(e.data.progress||0)},p.current.onerror=e=>{console.error("Main: Worker error",e),l("Worker error: "+e.message),i(!1)},p.current.postMessage({command:"load_model"}))},[]);let g=async()=>{if(!x){l("Please select an audio file first.");return}console.log("Main: Starting transcription"),i(!0),l(null),r(null);try{let e=await x.arrayBuffer(),r=new(window.AudioContext||window.webkitAudioContext),a=(await r.decodeAudioData(e)).getChannelData(0);p.current.postMessage({command:"transcribe",audioData:a},[a.buffer])}catch(e){console.error("Error processing audio file:",e),l("Error processing audio file: "+e.message),i(!1)}};return(0,t.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center p-12",children:[(0,t.jsx)("h1",{className:"text-5xl font-bold mb-2 text-center",children:"Automatic Speech Recognition"}),!d&&(0,t.jsxs)("div",{className:"w-full max-w-md mb-4",children:[(0,t.jsx)(s.E,{value:f,className:"w-full"}),(0,t.jsxs)("p",{className:"text-center mt-2",children:["Loading model: ",f.toFixed(2),"%"]})]}),(0,t.jsx)("input",{type:"file",accept:"audio/*",onChange:e=>{v(e.target.files[0])},className:"w-full max-w-md p-2 border border-gray-300 rounded mb-4"}),(0,t.jsx)("button",{onClick:g,disabled:!d||u||!x,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:u?"Transcribing...":"Transcribe Audio"}),o&&(0,t.jsx)("div",{className:"text-red-500 mt-4",children:o}),e&&(0,t.jsxs)("div",{className:"mt-4 w-full max-w-md",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Result:"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-4 rounded mt-2 whitespace-pre-wrap",children:JSON.stringify(e,null,2)})]})]})}},7483:function(e,r,a){"use strict";a.d(r,{fC:function(){return b},z$:function(){return N}});var t=a(7294),n=a(5360),s=a(5320),o=a(5893),l="Progress",[u,i]=(0,n.b)(l),[d,c]=u(l),f=t.forwardRef((e,r)=>{var a,t;let{__scopeProgress:n,value:l=null,max:u,getValueLabel:i=x,...c}=e;(u||0===u)&&!h(u)&&console.error((a=`${u}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let f=h(u)?u:100;null===l||w(l,f)||console.error((t=`${l}`,`Invalid prop \`value\` of value \`${t}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=w(l,f)?l:null,p=g(m)?i(m,f):void 0;return(0,o.jsx)(d,{scope:n,value:m,max:f,children:(0,o.jsx)(s.WV.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":g(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":v(m,f),"data-value":m??void 0,"data-max":f,...c,ref:r})})});f.displayName=l;var m="ProgressIndicator",p=t.forwardRef((e,r)=>{let{__scopeProgress:a,...t}=e,n=c(m,a);return(0,o.jsx)(s.WV.div,{"data-state":v(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...t,ref:r})});function x(e,r){return`${Math.round(e/r*100)}%`}function v(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function g(e){return"number"==typeof e}function h(e){return g(e)&&!isNaN(e)&&e>0}function w(e,r){return g(e)&&!isNaN(e)&&e<=r&&e>=0}p.displayName=m;var b=f,N=p}},function(e){e.O(0,[847,888,774,179],function(){return e(e.s=3300)}),_N_E=e.O()}]);