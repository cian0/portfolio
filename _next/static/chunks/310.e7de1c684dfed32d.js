"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{7310:function(e,t,n){n.r(t);var i=n(5893),o=n(7294),r=n(5152),a=n.n(r);let l=()=>{let e=(0,o.useRef)(null),[t,r]=(0,o.useState)("White to move"),[a,l]=(0,o.useState)(800);return(0,o.useEffect)(()=>{let e=()=>{l(Math.min(window.innerWidth-40,800))};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,o.useEffect)(()=>{let t;return(async()=>{console.log("Initializing Phaser...");let i=(await Promise.all([n.e(989),n.e(454)]).then(n.t.bind(n,2260,23))).default;console.log("Phaser imported successfully:",i);let o={type:i.AUTO,width:a,height:a,parent:"game-container",backgroundColor:"#111111",scene:{create:function(){console.log("Create function called");let e=o.width/8;for(let t=0;t<8;t++)for(let n=0;n<8;n++){let i=(n+t)%2==0?4473924:6710886;this.add.rectangle(n*e,t*e,e,e,i)}for(let t=0;t<8;t++)for(let n=0;n<8;n++)if(c[t][n]){let i=this.add.text(n*e+e/2,t*e+e/2,l[c[t][n]],{fontSize:"".concat(.7*e,"px"),color:"w"===c[t][n][0]?"#00FFFF":"#FF00FF"}).setOrigin(.5).setInteractive();i.pieceType=c[t][n],i.gridX=n,i.gridY=t,p.push(i)}this.input.on("gameobjectdown",w),this.input.on("pointerdown",h),console.log("Create function completed")},update:function(){}}};console.log("Game configuration:",o);let l={wk:"♔",wq:"♕",wr:"♖",wb:"♗",wn:"♘",wp:"♙",bk:"♚",bq:"♛",br:"♜",bb:"♝",bn:"♞",bp:"♟️"},c=[["wr","wn","wb","wq","wk","wb","wn","wr"],["wp","wp","wp","wp","wp","wp","wp","wp"],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["bp","bp","bp","bp","bp","bp","bp","bp"],["br","bn","bb","bq","bk","bb","bn","br"]],s=null,d="w",p=[];function w(e,t){t.pieceType[0]===d&&(s=t,r("Selected ".concat(t.pieceType,". Click a square to move.")))}function h(e){if(s){var t;let n=Math.floor(e.x/(o.width/8)),i=Math.floor(e.y/(o.height/8));(t=s,n>=0&&n<8&&i>=0&&i<8&&(""===c[i][n]||c[i][n][0]!==t.pieceType[0]))?(function(e,t,n){c[e.gridY][e.gridX]="";let i=p.find(e=>e.gridX===t&&e.gridY===n);i&&(i.destroy(),p=p.filter(e=>e!==i)),c[n][t]=e.pieceType,e.gridX=t,e.gridY=n,e.x=o.width/8*t+o.width/16,e.y=o.height/8*n+o.height/16}(s,n,i),d="w"===d?"b":"w",r("".concat("w"===d?"White":"Black"," to move"))):r("Invalid move. Try again."),s=null}}e.current?(console.log("Creating new Phaser game instance"),console.log("Phaser game instance created:",t=new i.Game(o))):console.error("Game container ref is null")})().catch(e=>{console.error("Error initializing Phaser:",e)}),()=>{t&&(console.log("Destroying Phaser game instance"),t.destroy(!0))}},[a]),(0,i.jsxs)("div",{className:"retro-post",children:[(0,i.jsx)("div",{ref:e,id:"game-container",style:{width:"".concat(a,"px"),height:"".concat(a,"px"),margin:"0 auto"}}),(0,i.jsxs)("div",{className:"retro-section",style:{marginTop:"1rem"},children:[(0,i.jsx)("p",{className:"retro-text",children:t}),(0,i.jsx)("p",{className:"retro-text",children:"Click on a piece to select it, then click on a square to move."})]})]})};t.default=a()(()=>Promise.resolve(l),{ssr:!1})}}]);